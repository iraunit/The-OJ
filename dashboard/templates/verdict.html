{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{problem_name}} Submissions</title>
    <link rel="stylesheet" href="{% static 'verdict.css' %}">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<body>

   <nav class="nav">
        <div class="container">
            <h1 class="logo"><a href="/home">Welcome, {{user_email}}</a></h1>
            <ul>
              <li><a href="/home" title="Home"><i class="material-icons">home</i></a></li>
              <li><a href="/leaderboard" title="Leaderboard"><i class="material-icons">format_list_numbered</i></a></li>
              <li><a href="/problem/{{problem_id}}" title="Problem"><i class="material-icons">description</i></a></li>
              <li><a href="/submissions/{{problem_id}}" type="button" title="All Submissions"><i class="material-icons">people</i></a></li>
              <li><a href="/discussion/{{problem_id}}" type="button" title="Discuss"><i class="material-icons">forum</i></a></li>
              <li><a href="/mysubmissions/{{problem_id}}" type="button" title="My Submissions"><i class="material-icons">person</i></a></li>
              <li><a href="/logout"><i class="material-icons" title="Logout">exit_to_app</i></a></li>
            </ul>

        </div>
    </nav> 

    <div class="container1">
        <h2>Submissions to The Problem {{problem_name}}</h2>
        <ul class="responsive-table">
          <li class="table-header">
            <div class="col col-1">User Name</div>
            <div class="col col-2">Result</div>
            <div class="col col-3">Language</div>
            <div class="col col-4">Runtime (ms)</div>
            <div class="col col-5">Submitted At</div>
            <div class="col col-6">Code</div>
          </li>
          {% for submission in submissions %}
          <div class="">
          <li class="table-row">
            <div class="col col-1" >{{submission.user_name}}</div>
            <div class="col col-2" >{{submission.verdict}}</div>
            <div class="col col-3" >{{submission.language}}</div>
            <div class="col col-4" >{{submission.runtime}}</div>
            <div class="col col-5" >{{submission.submitted_date}}</div>
            <div class="col col-6 toggle" id="show_code">
              <a href="#"><i class="material-icons">code</i></a>
            </div>
          </li>
          <div id="user_code" class="control-me"><pre class="prettyprint"><code class="language-cpp">{{submission.code}}</code></pre></div>
        </div>
          {% endfor %}
        </ul>
      </div>
   
    {% comment %} <script src="{% static 'home.js' %}"></script> {% endcomment %}
    <script src="{% static 'verdict.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js?skin=doxy"></script>
    <script>
      if ( window.history.replaceState ) {
          window.history.replaceState( null, null, window.location.href );
      }
  </script>


</body>

</html>